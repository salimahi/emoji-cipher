<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emoji Cipher™ – Prototype</title>
  <meta name="description" content="Emoji Cipher™ is an original logic puzzle by Salimah Ismail. Decode the emojis to reveal the hidden phrase and balance the equations.">
  <meta name="author" content="Salimah Ismail">
  <meta name="copyright" content="© 2025 Salimah Ismail. Licensed under CC BY-NC-ND 4.0 International.">
  <meta name="license" content="https://creativecommons.org/licenses/by-nc-nd/4.0/">

  <style>
    body {
      font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;
      margin: 2rem auto;
      max-width: 680px;
      line-height: 1.5;
      color: #222;
      background: #fdfdfd;
    }
    h1, h2 { text-align: center; }

    .note-box {
      background: #fff8db;
      border: 1px solid #e6d78a;
      border-radius: .5rem;
      padding: .75rem;
      margin-bottom: 1rem;
      font-size: .9rem;
    }

    .section-title{
      font-size:1rem;
      font-weight:600;
      margin:1.5rem 0 .5rem;
      text-transform:uppercase;
      letter-spacing:.03em;
      color:#444;
    }

    /* Phrase layout */
    .phrase-wrapper {
      background:#fff;
      border:1px solid #ddd;
      border-radius:.5rem;
      padding:1rem 1rem .5rem;
      box-shadow:0 1px 2px rgb(0 0 0 / .05);
    }
    .phrase-words {
      display:flex;
      flex-wrap:wrap;
      gap:1.5rem 1rem;
    }
    .word-block {
      display:flex;
      gap:.75rem;
    }
    .char-stack {
      display:flex;
      flex-direction:column;
      align-items:center;
      min-width:2.5rem;
    }
    .char-input {
      width:2.5rem;
      height:2.5rem;
      font-size:1.25rem;
      font-weight:600;
      text-align:center;
      border:2px solid #bbb;
      border-radius:.5rem;
      background:#fff;
      box-shadow:0 1px 2px rgb(0 0 0 / .05) inset;
      font-family:inherit;
    }
    .char-input.correct {
      background:#e6ffe6;
      border-color:#108a00;
      color:#0a4f00;
      font-weight:600;
    }
    .char-input:disabled {
      background:#e6ffe6;
      border-color:#108a00;
      color:#0a4f00;
      font-weight:600;
      cursor:default;
    }
    .char-emoji {
      font-size:1.4rem;
      line-height:1.2;
      margin-top:.4rem;
    }

    /* Equations layout */
    .equations-wrapper{
      border:1px solid #ddd;
      border-radius:.5rem;
      background:#fff;
      box-shadow:0 1px 2px rgb(0 0 0 / .05);
      padding:.5rem .75rem;
    }
    .equation-row{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap:.75rem;
      padding:.75rem .25rem;
      border-bottom:1px solid #eee;
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
      font-size:.9rem;
      line-height:1.3;
    }
    .equation-row:last-child{border-bottom:none;}

    .eq-stack {
      display:flex;
      flex-direction:column;
      align-items:center;
      min-width:3rem;
    }
    .num-input {
      width:2.5rem;
      height:2.5rem;
      font-size:1.1rem;
      font-weight:600;
      text-align:center;
      border:2px solid #bbb;
      border-radius:.5rem;
      background:#fff;
      box-shadow:0 1px 2px rgb(0 0 0 / .05) inset;
      font-family:inherit;
    }
    .num-input.correct {
      background:#e6ffe6;
      border-color:#108a00;
      color:#0a4f00;
      font-weight:600;
    }
    .num-input:disabled {
      background:#e6ffe6;
      border-color:#108a00;
      color:#0a4f00;
      font-weight:600;
      cursor:default;
    }

    .eq-plus,
    .eq-equals,
    .eq-target {
      font-size:1rem;
      font-weight:600;
    }

    .eq-result {
      font-size:1rem;
      font-weight:600;
    }
    .status-ok { color:#108a00; }
    .status-bad { color:#b00020; }

    /* Mapping table */
    .mapping-row {
      display:grid;
      grid-template-columns:2rem 1fr 1fr;
      align-items:center;
      gap:.5rem;
      padding:.5rem .75rem;
      border:1px solid #ddd;
      border-radius:.5rem;
      background:#fafafa;
      margin-bottom:.5rem;
      box-shadow:0 1px 2px rgb(0 0 0 / .05);
      transition: background-color .15s ease, box-shadow .15s ease;
    }
    .mapping-row.solved {
      background:#e6ffe6;
      box-shadow:0 0 0 2px #108a0044 inset;
    }
    .emoji-cell{font-size:1.5rem;text-align:center;}
    label{display:block;font-size:.7rem;font-weight:500;color:#555;margin-bottom:.25rem;}
    .map-input{
      width:100%;
      font-size:1rem;
      padding:.4rem .5rem;
      border:1px solid #bbb;
      border-radius:.4rem;
      font-family:inherit;
      background:#fff;
    }
    .map-input.correct {
      background:#e6ffe6;
      border-color:#108a00;
      color:#0a4f00;
      font-weight:600;
    }
    .map-input:disabled{
      background:#e6ffe6;
      border-color:#108a00;
      color:#0a4f00;
      font-weight:600;
    }

    .win-box{
      margin-top:1rem;
      border-radius:.75rem;
      padding:1rem;
      font-weight:600;
      text-align:center;
      font-size:1rem;
      display:none;
      background:#e6ffe6;
      border:2px solid #108a00;
      color:#0a4f00;
      box-shadow:0 4px 10px rgb(0 0 0 / .08);
    }

    footer{
      margin-top:2rem;
      font-size:.8rem;
      text-align:center;
      color:#666;
    }
    footer a{
      color:#555;
      text-decoration:none;
    }
  </style>
</head>
<body>
  <h1>Emoji Cipher™</h1>
  <h2>Prototype Puzzle</h2>

  <div class="note-box">
    Each emoji stands for <strong>one letter</strong> AND <strong>one number</strong>.<br>
    Type the correct letter OR the correct number once, and the game will fill in the rest for you.<br>
    Solve the whole phrase AND make every equation true.
  </div>

  <div class="section-title">Your Decoded Phrase</div>
  <div class="phrase-wrapper">
    <div class="phrase-words" id="phraseWordsArea"></div>
  </div>

  <div class="section-title">Check the Math</div>
  <div class="equations-wrapper" id="equationsArea"></div>

  <div class="section-title">Assign Letters and Numbers</div>
  <div id="mappingInputs"></div>

  <div class="win-box" id="winBox">
    ✅ You solved it!
  </div>

  <footer>
    Emoji Cipher™ © 2025 Salimah Ismail.<br>
    Licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0 International</a>.
  </footer>

  <script>
  (function(){

    // ----- ONE PUZZLE (COOL GAME BRO) -----
    const currentPuzzle = {
      phrase: "COOL GAME BRO",
      phraseWords: [
        ["🦊","🪐","🪐","🐸"],        // COOL
        ["🚀","🌵","🎲","🔮"],        // GAME
        ["🧊","🌵","🪐"]             // BRO
      ],
      mapping: {
        "🦊": { letter:"C", number:3 },
        "🪐": { letter:"O", number:8 },
        "🐸": { letter:"L", number:4 },
        "🚀": { letter:"G", number:7 },
        "🌵": { letter:"A", number:1 },
        "🎲": { letter:"M", number:6 },
        "🔮": { letter:"E", number:2 },
        "🧊": { letter:"B", number:5 }
      },
      uniqueEmojis: ["🦊","🪐","🐸","🚀","🌵","🎲","🔮","🧊"],
