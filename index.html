<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emoji Cipherâ„¢ â€“ A New Puzzle Game by Salimah!</title>
  <meta name="description" content="Emoji Cipherâ„¢ is an original logic puzzle by Salimah Ismail. Decode the emojis to reveal the hidden phrase and balance the equations.">
  <meta name="author" content="Salimah Ismail">
  <meta name="copyright" content="Â© 2025 Salimah Ismail. Licensed under CC BY-NC-ND 4.0 International.">
  <meta name="license" content="https://creativecommons.org/licenses/by-nc-nd/4.0/">

  <style>
    body {
      font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;
      margin: 2rem auto;
      max-width: 680px;
      line-height: 1.5;
      color: #222;
      background: #fdfdfd;
    }

    h1, h2 { text-align: center; }

    h1 { color: #8C6737; }
    h2 { color: #36171D; font-weight: 500; }

    .note-box {
      background: #F6EAED;
      border: 1px solid #36171D;
      border-radius: .5rem;
      padding: .75rem;
      margin-bottom: 1rem;
      font-size: .9rem;
    }

    .section-title{
      font-size:1rem;
      font-weight:600;
      margin:1.5rem 0 .5rem;
      text-transform:uppercase;
      letter-spacing:.03em;
      color:#8C6737;
    }

    /* Phrase layout */
    .phrase-wrapper {
      background:#fff;
      border:1px solid #ddd;
      border-radius:.5rem;
      padding:1rem;
      box-shadow:0 1px 2px rgb(0 0 0 / .05);
      display:flex;
      flex-wrap:wrap;
      row-gap:1rem;
      column-gap:1rem;
      font-size:1.1rem;
    }

    .word-block {
      display:flex;
      flex-direction:column;
      align-items:flex-start;
    }

    .word-top-row {
      display:flex;
      align-items:flex-start;
      gap:.6rem;
      flex-wrap:nowrap;
    }

    .char-stack {
      display:flex;
      flex-direction:column;
      align-items:center;
      min-width:2.4rem;
    }

    .char-input {
      width:2.4rem;
      height:2.4rem;
      font-size:1.1rem;
      text-align:center;
      font-weight:600;
      border:1.5px solid #bbb;
      border-radius:.5rem;
      background:#fff;
      box-shadow:0 1px 2px rgb(0 0 0 / 0.05);
      font-family:inherit;
    }
    .char-input::placeholder { color:#999; font-weight:400; }
    .char-input:focus{
      outline:none;
      border-color:#000;
    }
    .char-input[disabled]{
      background:#e6ffe6;
      border-color:#108a00;
      color:#0a4f00;
      font-weight:600;
    }

    .char-emoji {
      font-size:1.4rem;
      line-height:1.2;
      margin-top:.25rem;
    }

    .word-separator {
      font-weight:600;
      font-size:1rem;
      line-height:1;
      color:#666;
      margin-left:.5rem;
    }

    /* Equations block */
    .equations-wrapper{
      border:1px solid #ddd;
      border-radius:.5rem;
      background:#fff;
      box-shadow:0 1px 2px rgb(0 0 0 / .05);
      padding:.75rem 1rem;
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
      font-size:.9rem;
    }

    .equation-row{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap:.75rem 1rem;
      padding:.75rem 0;
      border-bottom:1px solid #eee;
    }
    .equation-row:last-child{border-bottom:none;}

    .eq-left {
      display:flex;
      flex-wrap:wrap;
      gap:.75rem;
      align-items:flex-end;
    }

    .eq-stack {
      display:flex;
      flex-direction:column;
      align-items:center;
      min-width:2.4rem;
    }

    .num-input {
      width:2.4rem;
      height:2.4rem;
      font-size:1rem;
      text-align:center;
      font-weight:600;
      border:1.5px solid #bbb;
      border-radius:.5rem;
      background:#fff;
      box-shadow:0 1px 2px rgb(0 0 0 / 0.05);
      font-family:inherit;
    }
    .num-input::placeholder{ color:#999; font-weight:400; }
    .num-input:focus{
      outline:none;
      border-color:#000;
    }
    .num-input[disabled]{
      background:#e6ffe6;
      border-color:#108a00;
      color:#0a4f00;
      font-weight:600;
    }

    .eq-op {
      font-size:1.1rem;
      font-weight:600;
      line-height:1;
      align-self:center;
    }

    .eq-target { font-weight:600; }

    .eq-result {
      font-weight:600;
      min-width:2rem;
      text-align:center;
    }
    .status-ok{color:#108a00;}
    .status-bad{color:#b00020;}

    /* Solution key styling (still unused/hidden) */
    .solution-box {
      border:1px solid #ddd;
      border-radius:.5rem;
      background:#fff;
      box-shadow:0 1px 2px rgb(0 0 0 / .05);
      padding:1rem;
      font-size:.95rem;
      line-height:1.4;
      color:#222;
      white-space:pre-line;
    }
    .solution-line-solved {
      background:#e6ffe6;
      border-left:3px solid #108a00;
      padding:.25rem .5rem;
      border-radius:.25rem;
      margin-bottom:.5rem;
      font-weight:600;
      color:#0a4f00;
      box-shadow:0 1px 2px rgb(0 0 0 / .06) inset;
    }
    .solution-hint {
      font-size:.8rem;
      color:#666;
      margin-bottom:.5rem;
    }

    .win-box{
      margin-top:1rem;
      border-radius:.75rem;
      padding:1rem;
      font-weight:600;
      text-align:center;
      font-size:1rem;
      display:none;
      background:#e6ffe6;
      border:2px solid #108a00;
      color:#0a4f00;
      box-shadow:0 4px 10px rgb(0 0 0 / .08);
    }

    /* FEEDBACK CARD */
    .feedback-card {
      margin-top:2rem;
      border:1px solid #ddd;
      border-radius:.5rem;
      background:#fff;
      box-shadow:0 1px 2px rgb(0 0 0 / .05);
      padding:1rem;
      font-size:.9rem;
    }
    .feedback-card-title {
      font-weight:600;
      color:#8C6737;
      margin-bottom:.5rem;
    }
    .feedback-label {
      display:block;
      font-size:.8rem;
      color:#444;
      margin-bottom:.25rem;
    }
    .feedback-input,
    .feedback-email {
      width:100%;
      box-sizing:border-box;
      border:1.5px solid #bbb;
      border-radius:.5rem;
      padding:.5rem;
      font-family:inherit;
      font-size:.9rem;
      line-height:1.4;
    }
    .feedback-input { resize:vertical; }

    .feedback-button {
      margin-top:1rem;
      width:100%;
      padding:.75rem 1rem;
      font-size:1rem;
      border-radius:.5rem;
      border:1px solid #999;
      background:#F6EAED;
      color:#36171D;
      cursor:pointer;
      font-weight:600;
    }

    .feedback-status {
      font-size:.8rem;
      color:#108a00;
      margin-top:.5rem;
      display:none;
    }

    footer{
      margin-top:2rem;
      font-size:.8rem;
      text-align:center;
      color:#666;
    }
    footer a{
      color:#555;
      text-decoration:none;
    }

    /* celebration confetti canvas */
    #confettiCanvas {
      position: fixed;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 999999;
    }

    /* full-screen win text */
    #solvedMessage {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      font-size: 6vw;
      font-weight: 800;
      font-family: system-ui, sans-serif;

      background: linear-gradient(
        90deg,
        #ff005e 0%,
        #ff8a00 16%,
        #ffe600 32%,
        #00d12b 48%,
        #00c2ff 64%,
        #7a00ff 80%,
        #ff00c8 100%,
        #ff005e 120%
      );
      background-size: 200% auto;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;

      text-shadow: 0 0 25px rgba(0,0,0,0.6);

      opacity: 0;
      z-index: 1000000;
      pointer-events: none;
      transition: opacity 0.4s ease, transform 0.4s ease;
      animation: rainbowShift 2s linear infinite;
    }

    #solvedMessage.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }

    @keyframes rainbowShift {
      0%   { background-position: 0% 50%; }
      100% { background-position: -200% 50%; }
    }

     /* Easy/Hard Mode */
    .mode-bar { display:flex; align-items:center; gap:12px; margin:12px 0; }
    .mode-toggle { display:flex; gap:8px; }
    .mode-toggle button[aria-pressed="true"]{
  background:#F6EAED;
  border-color:#36171D;
}
  </style>
</head>
<body>
  <h1>Emoji Cipherâ„¢</h1>
  <h2>A New Puzzle Game by <a href="https://salimahismail.com">Salimah!</a></h2>

 <!-- Instructions -->
  <div class="note-box">
    Each emoji hides a secret <b>LETTER</b> and <b>NUMBER</b>.<br>
    Unlock one and you'll get the other.<br>
    Every letter is unique, <i>but numbers can repeat.</i><br>
    There are no penalties for guessing.<br>
    Good Luck!
  </div>

   <!-- Share Button -->
  <div style="margin-top:1rem; display:flex; gap:.5rem; flex-wrap:wrap;">
    <button id="shareBtn"
      style="flex:1; padding:.75rem 1rem; font-size:1rem; border-radius:.5rem; border:1px solid #999; background:#fff; cursor:pointer;">
      ðŸ”— Share
    </button>

    <div id="shareStatus"
      style="flex:1; font-size:.8rem; color:#555; line-height:1.2; display:none;">
      Copied!
    </div>
  </div>

   <!-- Easy / Hard Mode-->
  <section id="modeBar" class="mode-bar">
  <span class="mode-label">Mode</span>
  <div class="mode-toggle" role="group" aria-label="Select mode">
    <button id="modeEasy" type="button"
  style="padding:.75rem 1rem; font-size:1rem; border-radius:.5rem; border:1px solid #999; background:#fff; cursor:pointer; font-weight:600;">
  Easy
</button>

<button id="modeHard" type="button"
  style="padding:.75rem 1rem; font-size:1rem; border-radius:.5rem; border:1px solid #999; background:#fff; cursor:pointer; font-weight:600;">
  Hard
</button>

  </div>
</section>

 <!-- Progress Buttons -->
  <div style="display:flex; flex-wrap:wrap; justify-content:space-between; align-items:center; margin-top:1rem; gap:.5rem;">
    <button id="prevBtn" style="flex:1; padding:.75rem 1rem; font-size:1rem; border-radius:.5rem; border:1px solid #999; background:#fff; cursor:pointer;">
      â—€ Previous
    </button>
    <div style="flex:2; text-align:center; line-height:1.2;">
      <div id="puzzleLabel" style="font-size:.9rem; font-weight:600; color:#555; white-space:nowrap;">
        Puzzle 1 / 10
      </div>
      <div id="progressLabel" style="font-size:.8rem; color:#777;">
        Solved 0 / 10
      </div>
    </div>
    <button id="nextBtn" style="flex:1; padding:.75rem 1rem; font-size:1rem; border-radius:.5rem; border:1px solid #999; background:#fff; cursor:pointer;">
      Next â–¶
    </button>
  </div>

  <div class="section-title">Decode the Phrase</div>
  <div class="phrase-wrapper" id="phraseArea"></div>

  <div class="section-title">Crack the Math</div>
  <div class="equations-wrapper" id="equationsArea"></div>

  <div class="feedback-card">
    <div class="feedback-card-title">Feedback</div>

    <label for="feedbackText" class="feedback-label">
      Tell me what you liked, what was confusing, or if you want more levels ðŸ‘‡
    </label>
    <textarea id="feedbackText" rows="3" class="feedback-input" placeholder="I would like more levels! Also can you make it so that..."></textarea>

    <label for="feedbackEmail" class="feedback-label" style="margin-top:.75rem;">
      Your email:
    </label>
    <input id="feedbackEmail" type="email" class="feedback-email" placeholder="name@email.com">

    <button id="sendFeedbackBtn" class="feedback-button">
      âœ‰ Send Feedback
    </button>

    <div id="feedbackStatus" class="feedback-status">
      Thanks! Your message is ready to send.
    </div>
  </div>

  <footer>
    Emoji Cipherâ„¢ Â© 2025 Salimah Ismail.<br>
    Licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0 International</a>.<br>
    <a href="https://salimahismail.com" target="_blank">https://salimahismail.com</a>
  </footer>

  <canvas id="confettiCanvas"></canvas>
  <div id="solvedMessage">YAY! YOU SOLVED IT!</div>
  
    <!-- EmailJS CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

 <!-- Game modules -->
<script src="puzzlesData.js" defer></script>
<script src="gameEngine.js" defer></script>
<script src="main-ui.js" defer></script>

</body>
</html>
